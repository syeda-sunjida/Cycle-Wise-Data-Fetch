Cycle-Wise-Data-Fetch

Overview

This repository contains a set of Python scripts designed to fetch, process, and analyze cycle-wise login and trading data from a database. The scripts are structured in a sequential manner, where the output of one script serves as the input for the next.

Steps to Use the Scripts

The three scripts must be executed in a specific order to extract and analyze the relevant data. Below is an overview of each script and its function:

1. Cycle wise login.py

Function

This script fetches login data for a specific cycle (date range) provided as input. It retrieves relevant account details from the database and saves the results to a CSV file.

How It Works

Connects to the database.

Queries the subscriptions table to retrieve login data for accounts within the given cycle.

Filters only real accounts.

Saves the data to a CSV file named in the format: real_accounts_data_<start_date>_to_<end_date>.csv.

Output

A CSV file containing login data for accounts active within the given date range.

2. Cycle wise login with last equity.py

Function

This script takes the output of the first script (CSV file) and fetches the last equity value for each account within the given cycle. It also calculates the Profit and Loss (PnL) by comparing the last equity value to the account's starting balance.

How It Works

Reads the CSV file generated by Cycle wise login.py.

Extracts unique account_id values.

Queries the account_metrics table to fetch last equity values up to the end date of the cycle.

Merges the fetched equity data with the login data.

Filters out records where lastEquity equals starting_balance.

Calculates PnL (lastEquity - starting_balance).

Saves the final dataset as merged_real_accounts_metrics_with_PnL.csv.

Input

The CSV file generated by Cycle wise login.py.

Output

A CSV file named merged_real_accounts_metrics_with_PnL.csv, containing login data along with last equity values and PnL.

3. Cyclwise login trades data.py

Function

This script fetches trading data for accounts based on the login cycle. It uses the output of the second script (merged_real_accounts_metrics_with_PnL.csv) to filter relevant trades and analyze trade patterns.

How It Works

Reads the CSV file generated by Cycle wise login with last equity.py.

Queries the database to fetch trade data that falls within the cycle login period.

Saves the result to a CSV file.

Input

The CSV file generated by Cycle wise login with last equity.py.

Output

A CSV file containing trading data for accounts active in the specified cycle.
